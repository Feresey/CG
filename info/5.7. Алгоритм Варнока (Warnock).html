
<!-- saved from url=(0035)http://compgraph.tpu.ru/warnock.htm -->
<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns="http://www.w3.org/TR/REC-html40"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1251">

<title>5.7. Алгоритм Варнока (Warnock)</title>
<meta name="GENERATOR" content="Microsoft FrontPage 6.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<link rel="File-List" href="http://compgraph.tpu.ru/warnock.files/filelist.xml">

<style>
<!--
h2
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	text-align:justify;
	text-indent:0cm;
	page-break-after:avoid;
	tab-stops:list 0cm;
	font-size:14.0pt;
	font-family:Arial;
	font-style:italic}
 p.MsoNormal
	{mso-style-parent:"";
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:1.0cm;
	font-size:14.0pt;
	font-family:"Times New Roman";
	margin-left:0cm; margin-right:0cm; margin-top:0cm}
p.MsoCaption
	{margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:12.0pt;
	margin-left:0cm;
	text-align:center;
	font-size:13.0pt;
	font-family:"Times New Roman";
	}
-->
</style>
<!--[if !mso]>
<style>
v\:*         { behavior: url(#default#VML) }
o\:*         { behavior: url(#default#VML) }
.shape       { behavior: url(#default#VML) }
</style>
<![endif]--><!--[if gte mso 9]>
<xml><o:shapedefaults v:ext="edit" spidmax="1027"/>
</xml><![endif]-->
<!--mstheme--><link rel="stylesheet" type="text/css" href="./5.7. Алгоритм Варнока (Warnock)_files/comp1011-1251.css"><meta name="Microsoft Theme" content="compass 1011">
<meta name="Microsoft Border" content="none, default">
</head>

<body>

<p class="MsoNormal" style="text-align: center">
<span style="font-style: normal; font-weight: 400">
<font size="4" face="Times New Roman"><span lang="ru">
<a href="http://compgraph.tpu.ru/priority.htm">Назад</a> | <a href="http://compgraph.tpu.ru/Oglavlenie.htm">
Оглавление</a> | <a href="http://compgraph.tpu.ru/index.html">Домой</a> |
<a href="http://compgraph.tpu.ru/weiler_atherton.htm">Далее</a></span></font></span></p>

<h2 style="margin-left:0cm;text-indent:0cm"><a name="_Toc88449732">5.7.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Алгоритм Варнока (</a><span lang="EN-US">Warnock</span>)</h2>
<p class="MsoNormal">&nbsp; Алгоритм Варнока является одним из примеров алгоритма, 
основанного на разбиении картинной плоскости на части, для каждой из которых 
исходная задача может быть решена достаточно просто.</p>
<p class="MsoNormal">Поскольку алгоритм Варнока нацелен на обработку картинки, 
он работает в пространстве изображения. В пространстве изображения 
рассматривается окно и решается вопрос о том, пусто ли оно, или его содержимое 
достаточно просто для визуализации. Если это не так, то окно разбивается на 
фрагменты до тех пор, пока содержимое фрагмента не станет достаточно простым для 
визуализации или его размер не достигнет требуемого предела разрешения.</p>
<p class="MsoNormal">Кратко опишем оригинальную версию алгоритма, предложенного 
Варноком.</p>
<p class="MsoNormal">Разобьем видимую часть картинной плоскости на четыре равные 
части и рассмотрим, каким образом могут соотноситься между собой проекции граней 
получившейся части картинной плоскости.</p>
<p class="MsoNormal">Возможны четыре различных случая:</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><!--[if gte vml 1]><v:shapetype id="_x0000_t75"
 coordsize="21600,21600" o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe"
 filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_s1026" type="#_x0000_t75" style='width:481.5pt;
 height:168.75pt'>
 <v:imagedata src="warnock.files/image001.png" o:title="warnock"/>
</v:shape><![endif]--><!--[if !vml]--><img border="0" width="642" height="225" src="./5.7. Алгоритм Варнока (Warnock)_files/image002.gif" v:shapes="_x0000_s1026"><!--[endif]--></p>
<p class="MsoNormal" align="center" style="text-align:center">&nbsp;</p>
<p class="MsoCaption">Рис. 5.16. Соотношение проекции грани с подокном</p>
<p class="MsoNormal" style="margin-left: 0cm">1.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;
</span>Проекция грани полностью накрывает область (рис 6.16, <span lang="EN-US">
d</span>);</p>
<p class="MsoNormal" style="margin-left: 0cm">2.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;
</span>Проекция грани пересекает область, но не содержится в ней полностью (рис. 
6.16, с);</p>
<p class="MsoNormal" style="margin-left: 0cm">3.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;
</span>Проекция грани целиком содержится внутри области (рис. 6.16,
<span lang="EN-US">b</span>);</p>
<p class="MsoNormal" style="margin-left: 0cm">4.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;
</span>Проекция грани не имеет общих внутренних точек с рассматриваемой областью 
(рис 6.16, <span lang="EN-US">a</span>).</p>
<p class="MsoNormal">Очевидно, что в последнем случае грань вообще никак не 
влияет на то, что видно в данной области.</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">Сравнивая область с проекциями всех граней, можно выделить 
случаи, когда изображение, получающееся в рассматриваемой области, определяется 
сразу:</p>
<p class="MsoNormal" style="margin-left: 0cm">
<span style="font-size: 12.0pt; font-family: Symbol">&#168;<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;
</span></span>Проекция ни одной грани не попадает в область.</p>
<p class="MsoNormal" style="margin-left: 0cm">
<span style="font-size: 12.0pt; font-family: Symbol">&#168;<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;
</span></span>Проекция только одной грани содержится в области или пересекает 
область. В этом случае проекции грани разбивают всю область на две части, одна 
из которых соответствует этой проекции.</p>
<p class="MsoNormal" style="margin-left: 0cm">
<span style="font-size: 12.0pt; font-family: Symbol">&#168;<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;
</span></span>Существует грань, проекция которой полностью накрывает данную 
область, и эта грань расположена к картинной плоскости ближе, чем все остальные 
грани, проекции которых пересекают данную область. В данном случае область 
соответствует этой грани.</p>
<p class="MsoNormal" style="margin-left: 0cm">
&nbsp;</p>
<p class="MsoNormal">Если ни один из рассмотренных трех случаев не имеет места, 
то снова разбиваем область на четыре равные части и проверяем выполнение этих 
условий для каждой из частей. Те части, для которых таким образом не удалось 
установить видимость, разбиваем снова и т. д.</p>
<p class="MsoNormal">&nbsp; Естественно, возникает вопрос о критерии, на основании 
которого прекращать разбиение. В качестве очевидного критерия можно взять размер 
области. Как только размер области станет не больше размера одного пиксела, то 
производить дальнейшее разбиение не имеет смысла и для данной области ближайшая 
к ней грань определяется явно, как в методе трассировки лучей. </p>
<p class="MsoNormal">Иногда, для устранения лестничного эффекта, процесс 
разбиения проводится до размеров, меньших, чем разрешение экрана, на один 
пиксель. При этом усредняются атрибуты подпикселей, чтобы определить атрибуты 
самих пикселей.</p>
<p class="MsoNormal">При помощи изложенного алгоритма можно удалить либо 
невидимые линии, либо невидимые поверхности. Однако простота критерия разбиения, 
а также негибкость способа разбиения приводят к тому, что количество 
подразбиений оказывается велико. Можно повысить эффективность этого алгоритма, 
усложнив способ и критерий разбиения. На рис. 5.17, а показан другой общий 
способ разбиения и дано его сравнение с изложенным ранее жестким способом, 
представленным на рис. 5.17, b.</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal" align="center" style="text-align:center;page-break-after:avoid">
<span lang="EN-US"><!--[if gte vml 1]><v:shape
 id="_x0000_s1025" type="#_x0000_t75" style='width:477pt;height:215.25pt'>
 <v:imagedata src="warnock.files/image003.png" o:title="warnock3"/>
</v:shape><![endif]--><!--[if !vml]--><img border="0" width="636" height="287" src="./5.7. Алгоритм Варнока (Warnock)_files/image004.jpg" v:shapes="_x0000_s1025"><!--[endif]--></span></p>
<p class="MsoCaption">Рис. 5.17. Способы разбиения окна</p>
<p class="MsoNormal">Разбиение, показанное на рис. 5.17, а, получается с 
использованием прямоугольной объемлющей оболочки многоугольника. Заметим, что 
оболочки при этом могут быть неквадратными. Этот способ можно рекурсивно 
применить к любому многоугольнику, который полностью охвачен каким-нибудь окном 
или оболочкой. Если в окне содержится только один многоугольник и если он 
целиком охвачен этим окном, то его легко изобразить, не проводя дальнейшего 
разбиения. Такой способ разбиения полезен, в частности, при минимизации числа 
разбиений для простых сцен. Однако с ростом сложности сцены его преимущество 
сходит на нет.</p>
<p class="MsoNormal">&nbsp;</p>

<p class="MsoNormal" style="text-align: center">
<span style="font-style: normal; font-weight: 400">
<font size="4" face="Times New Roman"><span lang="ru">
<a href="http://compgraph.tpu.ru/priority.htm">Назад</a> | <a href="http://compgraph.tpu.ru/Oglavlenie.htm">
Оглавление</a> | <a href="http://compgraph.tpu.ru/index.html">Домой</a> |
<a href="http://compgraph.tpu.ru/weiler_atherton.htm">Далее</a></span></font></span></p>




</body></html>